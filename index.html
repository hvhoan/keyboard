<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script>
    var appscheme = 'tmprintassistant://';
    var host = 'tmprintassistant.epson.com/';
    var action = 'print?';
    var query_success = 'success';
    var query_ver = 'ver';
    var query_datatype = 'data-type';
    var query_data = 'data';
    var query_reselect = 'reselect';
    var query_cut = 'cut';
    var xmlData = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">予約内容 &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text>予約番号：null &#10;</text>
      <text>2021/06/02 (水) 22:00 - 23:00 &#10;</text>
      <text>カインズホーム蓮田 &#10;</text>
      <text>全サイズ共用ドッグラン730 &#10;</text>
      <text>テスト０１４ &#10;</text>
      <feed line="1"/>
      <symbol type="qrcode_model_2" level="default" width="16" height="0" size="0">a1J1s000000IPEeEAO</symbol>
      <text> &#10;</text>
      <feed line="1"/>
      <text>予約時刻になったらドッグラン入口の読取り機に、この画面を読取らせてください。ドアロックが解錠されます。 &#10;</text>
      </epos-print>
    `

    var xmlData1 = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <text width="1" height="1"/>
      <feed line="2"/>
      <text align="left"/>
      <text> ドッグランをご利用になる際には、わんちゃんの登録が必要です。 &#10;</text>
      <feed line="1"/>
      <text> 登録には、１年以内の狂犬病予防接種証明書（狂犬病予防注射済証）をお持ちいただき、店頭サービスカウンターにお越しください。（ドッグラン予約利用登録の旨をお申し付けください） &#10;</text>
      <feed line="1"/>
      <text> 登録に際して、カインズカード（無料）を発行させていただきます。既にカインズカードをお持ちの方はカードをお持ちください。 &#10;</text>
      <feed line="1"/>
      <text> 登録当日より、ドッグランのご利用が可能です。 &#10;</text>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">登録で必要なもの &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>カインズカード（お持ちの場合）または、カインズアプリのダウンロード &#10;</text>
      <feed line="1"/>
      <text>狂犬病予防接種証明書(狂犬病予防注射済証)※１年以内のもの &#10;</text>
      <feed line="2"/>
      <cut type="feed"/>
    </epos-print>
    `

    var xmlData2 = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <text align="center"/>
      <feed unit="30"/>
      <feed line="1"/>
      <text font="font_c"/>
      <text dw="true" dh="true">2 730000 012878 &#10;</text>
      <feed line="1"/>
      <text width="1" height="1"/>
      <text>こちらの会員番号では &#10;</text>
      <text>登録がありませんでした &#10;</text>
      <text>番号が間違っている場合は「戻る」から &#10;</text>
      <text>入力をやり直してください。そうでない &#10;</text>
      <text> 場合は初回登録が必要です。&#10;</text>
      <text align="center"/>
      <feed line="2"/>
      <text dw="true" dh="true">初回登録について &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>ドッグランをご利用になる際には、わ んちゃんの登録が必要です &#10;</text>
      <feed line="1"/>
      <text>登録には、１年以内の狂犬病予防接種証明書（狂犬病予防注射済証）をお持ちいただき、店頭サービスカウンターにお越しください。（ドッグラン予約利用登録の旨をお申し付けください） &#10;</text>
      <feed line="1"/>
      <text>登録に際して、カインズカード（無料）を発行させていただきます。既にカインズカードをお持ちの方はカードをお持ちください。 &#10;</text>
      <feed line="1"/>
      <text>登録当日より、ドッグランのご利用が可能です。&#10;</text>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">登録で必要なもの &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>カインズカード（お持ちの場合）または、カインズアプリのダウンロード &#10;</text>
      <feed line="1"/>
      <text>狂犬病予防接種証明書(狂犬病予防注射済証)※１年以内のもの &#10;</text>
      <feed line="2"/>
      <cut type="feed"/>
    </epos-print>
    `

    function sendXML() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData2);

      location.href = urlData;
    }

    function sendXML1() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData1);

      location.href = urlData;
    }

    function sendXML2() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData);

      location.href = urlData;
    }
  </script>
</head>

<body>
  <h1>Epson TM Print Assistant Sample Program</h1>
  <p><button onclick="sendXML()">Unregistered (06/02 16:25)</button></p>
  <p><button onclick="sendXML1()">First Reception (06/02 16:25)</button></p>
  <p><button onclick="sendXML2()">Complete Order (06/02 16:48)</button></p>
</body>

</html>
