<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script>
    var appscheme = 'tmprintassistant://';
    var host = 'tmprintassistant.epson.com/';
    var action = 'print?';
    var query_success = 'success';
    var query_ver = 'ver';
    var query_datatype = 'data-type';
    var query_data = 'data';
    var query_reselect = 'reselect';
    var query_cut = 'cut';
    var xmlData = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">予約内容 &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text>予約番号：dr-o0001752 &#10;</text>
      <text>2021/06/03 (木) 17:00 - 18:00 &#10;</text>
      <text>カインズホーム蓮田 &#10;</text>
      <text>全サイズ共用ドッグラン730 &#10;</text>
      <text>テスト００８ &#10;</text>
      <feed line="1"/>
      <symbol type="qrcode_model_2" level="default" width="16" height="0" size="0">397185</symbol>
      <text>397185 &#10;</text>
      <feed line="1"/>
      <text>予約時刻になったらドッグラン入口の読取り機に、この画面を読取らせてください。ドアロックが解錠されます。 &#10;</text>
      </epos-print>
    `

    var xmlData1 = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <text width="1" height="1"/>
      <feed line="2"/>
      <text align="left"/>
      <text> ドッグランをご利用になる際には、わんちゃんの登録が必要です。 &#10;</text>
      <feed line="1"/>
      <text> 登録には、１年以内の狂犬病予防接種証明書（狂犬病予防注射済証）をお持ちいただき、店頭サービスカウンターにお越しください。（ドッグラン予約利用登録の旨をお申し付けください） &#10;</text>
      <feed line="1"/>
      <text> 登録に際して、カインズカード（無料）を発行させていただきます。既にカインズカードをお持ちの方はカードをお持ちください。 &#10;</text>
      <feed line="1"/>
      <text> 登録当日より、ドッグランのご利用が可能です。 &#10;</text>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">登録で必要なもの &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>カインズカード（お持ちの場合）または、カインズアプリのダウンロード &#10;</text>
      <feed line="1"/>
      <text>狂犬病予防接種証明書(狂犬病予防注射済証)※１年以内のもの &#10;</text>
      <feed line="2"/>
      <cut type="feed"/>
    </epos-print>
    `

    var xmlData2 = `
    <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">
      <text lang="ja"/>
      <text align="center"/>
      <feed unit="30"/>
      <feed line="1"/>
      <text font="font_c"/>
      <text dw="true" dh="true">2 730000 012878 &#10;</text>
      <feed line="1"/>
      <text width="1" height="1"/>
      <text>こちらの会員番号では &#10;</text>
      <text>登録がありませんでした &#10;</text>
      <text>番号が間違っている場合は「戻る」から &#10;</text>
      <text>入力をやり直してください。そうでない &#10;</text>
      <text> 場合は初回登録が必要です。&#10;</text>
      <text align="center"/>
      <feed line="2"/>
      <text dw="true" dh="true">初回登録について &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>ドッグランをご利用になる際には、わ んちゃんの登録が必要です &#10;</text>
      <feed line="1"/>
      <text>登録には、１年以内の狂犬病予防接種証明書（狂犬病予防注射済証）をお持ちいただき、店頭サービスカウンターにお越しください。（ドッグラン予約利用登録の旨をお申し付けください） &#10;</text>
      <feed line="1"/>
      <text>登録に際して、カインズカード（無料）を発行させていただきます。既にカインズカードをお持ちの方はカードをお持ちください。 &#10;</text>
      <feed line="1"/>
      <text>登録当日より、ドッグランのご利用が可能です。&#10;</text>
      <feed line="2"/>
      <text align="center"/>
      <text dw="true" dh="true">登録で必要なもの &#10;</text>
      <text width="1" height="1"/>
      <feed line="1"/>
      <text align="left"/>
      <text>カインズカード（お持ちの場合）または、カインズアプリのダウンロード &#10;</text>
      <feed line="1"/>
      <text>狂犬病予防接種証明書(狂犬病予防注射済証)※１年以内のもの &#10;</text>
      <feed line="2"/>
      <cut type="feed"/>
    </epos-print>
    `

    function sendXML() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData2);

      location.href = urlData;
    }

    function sendXML1() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData1);

      location.href = urlData;
    }

    function sendXML2() {
      var success = window.location.href;
      var ver = '1';
      var datatype = 'eposprintxml';
      var urlData = '';

      urlData = appscheme + host + action +
        query_success + '=' + encodeURIComponent(success) + '&' +
        query_ver + '=' + ver + '&' +
        query_datatype + '=' + datatype + '&' +
        query_data + '=' + encodeURIComponent(xmlData);

      location.href = urlData;
    }
    
    function sendXML3() {
      location.href = 'tmprintassistant://tmprintassistant.epson.com/print?success=http%3A%2F%2F192.168.1.43%3A4200%2Fcomplete%3Fcode%3D200&ver=1&data-type=eposprintxml&data=%0A%3Cepos-print%20xmlns%3D%22http%3A%2F%2Fwww.epson-pos.com%2Fschemas%2F2011%2F03%2Fepos-print%22%3E%0A%20%20%3Ctext%20lang%3D%22ja%22%2F%3E%0A%20%20%3Cfeed%20line%3D%222%22%2F%3E%0A%20%20%3Ctext%20align%3D%22center%22%2F%3E%0A%20%20%3Ctext%20dw%3D%22true%22%20dh%3D%22true%22%3E%E4%BA%88%E7%B4%84%E5%86%85%E5%AE%B9%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Ctext%20width%3D%221%22%20height%3D%221%22%2F%3E%0A%20%20%3Cfeed%20line%3D%221%22%2F%3E%0A%20%20%3Ctext%3E%E4%BA%88%E7%B4%84%E7%95%AA%E5%8F%B7%EF%BC%9Adr-o0001752%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Ctext%3E2021%2F06%2F03%20(%E6%9C%A8)%2017%3A00%20-%2018%3A00%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Ctext%3E%E3%82%AB%E3%82%A4%E3%83%B3%E3%82%BA%E3%83%9B%E3%83%BC%E3%83%A0%E8%93%AE%E7%94%B0%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Ctext%3E%E5%85%A8%E3%82%B5%E3%82%A4%E3%82%BA%E5%85%B1%E7%94%A8%E3%83%89%E3%83%83%E3%82%B0%E3%83%A9%E3%83%B3730%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Ctext%3E%E3%83%86%E3%82%B9%E3%83%88%EF%BC%90%EF%BC%90%EF%BC%98%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Cfeed%20line%3D%221%22%2F%3E%0A%20%20%3Csymbol%20type%3D%22qrcode_model_2%22%20level%3D%22default%22%20width%3D%2216%22%20height%3D%220%22%20size%3D%220%22%3E397185%3C%2Fsymbol%3E%0A%20%20%3Ctext%3E397185%20%26%2310%3B%3C%2Ftext%3E%0A%20%20%3Cfeed%20line%3D%221%22%2F%3E%0A%20%20%3Ctext%3E%E4%BA%88%E7%B4%84%E6%99%82%E5%88%BB%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%9F%E3%82%89%E3%83%89%E3%83%83%E3%82%B0%E3%83%A9%E3%83%B3%E5%85%A5%E5%8F%A3%E3%81%AE%E8%AA%AD%E5%8F%96%E3%82%8A%E6%A9%9F%E3%81%AB%E3%80%81%E3%81%93%E3%81%AE%E7%94%BB%E9%9D%A2%E3%82%92%E8%AA%AD%E5%8F%96%E3%82%89%E3%81%9B%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%E3%83%89%E3%82%A2%E3%83%AD%E3%83%83%E3%82%AF%E3%81%8C%E8%A7%A3%E9%8C%A0%E3%81%95%E3%82%8C%E3%81%BE%E3%81%99%E3%80%82%20%26%2310%3B%3C%2Ftext%3E%0A%3C%2Fepos-print%3E%0A';
    }
  </script>
</head>

<body>
  <h1>Epson TM Print Assistant Sample Program</h1>
  <p><button onclick="sendXML()">Unregistered (06/02 16:25)</button></p>
  <p><button onclick="sendXML1()">First Reception (06/02 16:25)</button></p>
  <p><button onclick="sendXML2()">Complete Order (06/03 14:42)</button></p>
  <p><button onclick="sendXML3()">Complete Order (06/03 14:52)</button></p>
</body>

</html>
